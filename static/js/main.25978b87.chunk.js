(this["webpackJsonpopen-work"]=this["webpackJsonpopen-work"]||[]).push([[0],{100:function(e,t,n){"use strict";var c=n(1),r=n.n(c).a.createContext();t.a=r},152:function(e,t,n){e.exports={darkTheme:"styles_darkTheme__2dOnH",lightTheme:"styles_lightTheme__3QYJR"}},361:function(e,t,n){"use strict";(function(e){var c=n(47),r=n(12),a=n(22),s=n(57),o=n(2),i=n.n(o),l=n(1),u=n(102),j=n(9),b=n(108),d=n(44),h=n(131),x=n.n(h),O=n(183),p=(n(293),n(100)),f=n(85),g=n(7),m=Object(O.create)({url:"https://ipfs.infura.io:5001/api/v0"}),v=function(e){var t=e.input,n=e.previews,c=e.submitButton,r=e.dropzoneProps,a=e.files,o=e.extra.maxFiles;return Object(g.jsxs)("div",{children:[n,Object(g.jsx)("div",Object(s.a)(Object(s.a)({},r),{},{children:a.length<o&&t})),a.length>0&&c]})},w=function(){return Object(g.jsxs)(u.k,{spacing:2,textAlign:"center",children:[Object(g.jsx)(u.j,{sx:Object(j.i)("Text",{variant:"teal"}),fontSize:"3xl",children:"Drop your meme here \ud83d\udd90\ufe0f\ud83c\udfa4"}),Object(g.jsx)(u.j,{sx:Object(j.i)("Text",{variant:"blackAndWhite"}),fontSize:"lg",children:"(JPG, JPEG, PNG, GIF, SVG, ect.)"}),Object(g.jsx)(u.j,{sx:Object(j.i)("Text",{variant:"blackAndWhite"}),fontSize:"lg",children:"Be an open source hero and also include the raw files (PSD, PXD, TIFF, ect.)"})]})};t.a=function(t){var n=t.bountyId,s=t.refreshData,o=t.setLoading,u=Object(f.a)(),j=Object(l.useContext)(p.a),O=Object(a.a)(j,1)[0],y=Object(l.useState)(null),S=Object(a.a)(y,2),k=(S[0],S[1]),C=Object(l.useState)([]),D=Object(a.a)(C,2),B=D[0],A=D[1];function z(t){return new Promise((function(n,c){var r=new window.FileReader;r.readAsArrayBuffer(t.file),r.onloadend=function(){console.log("Buffer data: ",new e(r.result)),k(new e(r.result)),n(new e(r.result))},r.onerror=c}))}var T=function(){var e=Object(r.a)(i.a.mark((function e(t,r){var a,l,j,b,h,x,p,f,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o&&o(!0),e.next=3,O.client.makeSubmission(n);case 3:a=e.sent,console.log("result",a),a.txnResponse,l=a.txnReceipt,j=l.events,b=j[0].data,console.log("data",b),console.log("files:",t),console.log("allFiles:",r),h=[],x=0;case 13:if(!(x<r.length)){e.next=29;break}return p=r[x],e.next=17,z(p);case 17:return f=e.sent,e.prev=18,e.delegateYield(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.add(f);case 2:t=e.sent,n="https://ipfs.infura.io/ipfs/".concat(t.path),console.log("url",n),A((function(e){return[].concat(Object(c.a)(e),[{src:n}])})),h.push({src:n});case 7:case"end":return e.stop()}}),e)}))(),"t0",20);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(18),console.log(e.t1);case 25:p.remove();case 26:x++,e.next=13;break;case 29:try{console.log("urlArr",B),u?(g=Object(d.b)(u,"bounties",n,"submissions",b),Object(d.f)(g,{id:b,date:new Date,files:h,postedBy:l.from})):console.log("error no db")}catch(v){console.log("error uploading to firebase",v)}s(),o&&o(!1);case 32:case"end":return e.stop()}}),e,null,[[18,22]])})));return function(t,n){return e.apply(this,arguments)}}(),F="light"===Object(b.e)().colorMode?"#E2E8F0":"#ffffff29";return Object(g.jsx)(x.a,{getUploadParams:function(){return{url:"https://httpbin.org/post"}},LayoutComponent:v,onSubmit:T,classNames:{inputLabelWithFiles:h.defaultClassNames.inputLabel},styles:{dropzone:{borderColor:F,width:"100%"},inputLabel:{position:"relative",padding:"80px 30px",width:"100%"}},inputContent:Object(g.jsx)(w,{})})}}).call(this,n(46).Buffer)},370:function(e,t,n){"use strict";(function(e){var c=n(47),r=n(12),a=n(22),s=n(57),o=n(2),i=n.n(o),l=n(1),u=n(102),j=n(9),b=n(108),d=n(131),h=n.n(d),x=n(183),O=(n(293),n(7)),p=Object(x.create)({url:"https://ipfs.infura.io:5001/api/v0"}),f=function(e){var t=e.input,n=e.previews,c=e.submitButton,r=e.dropzoneProps,a=e.files,o=e.extra.maxFiles;return Object(O.jsxs)("div",{children:[n,Object(O.jsx)("div",Object(s.a)(Object(s.a)({},r),{},{children:a.length<o&&t})),a.length>0&&c]})},g=function(){return Object(O.jsx)(u.k,{spacing:2,textAlign:"center",children:Object(O.jsx)(u.j,{sx:Object(j.i)("Text",{variant:"blackAndWhite"}),fontSize:"xl",children:"Drop your examples here"})})};t.a=function(t){var n=t.handleChangeStatus,s=Object(l.useState)(null),o=Object(a.a)(s,2),u=(o[0],o[1]),j=Object(l.useState)([]),x=Object(a.a)(j,2),m=(x[0],x[1]);function v(t){return new Promise((function(n,c){var r=new window.FileReader;r.readAsArrayBuffer(t.file),r.onloadend=function(){console.log("Buffer data: ",new e(r.result)),u(new e(r.result)),n(new e(r.result))},r.onerror=c}))}var w=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n.length)){e.next=17;break}return a=n[r],e.next=5,v(a);case 5:return s=e.sent,e.prev=6,e.delegateYield(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.add(s);case 2:t=e.sent,n="https://ipfs.infura.io/ipfs/".concat(t.path),console.log("url",n),m((function(e){return[].concat(Object(c.a)(e),[n])}));case 6:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(6),console.log(e.t1);case 13:a.remove();case 14:r++,e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[6,10]])})));return function(t,n){return e.apply(this,arguments)}}(),y="light"===Object(b.e)().colorMode?"#E2E8F0":"#ffffff29";return Object(O.jsx)(h.a,{onChangeStatus:n,getUploadParams:function(){return{url:"https://httpbin.org/post"}},LayoutComponent:f,onSubmit:w,classNames:{inputLabelWithFiles:d.defaultClassNames.inputLabel},styles:{dropzone:{borderColor:y,width:"100%"},inputLabel:{position:"relative",padding:"50px 0px",width:"100%"}},inputContent:Object(O.jsx)(g,{}),maxSizeBytes:1e6,maxFiles:15,SubmitButtonComponent:function(){return null}})}}).call(this,n(46).Buffer)},409:function(e,t,n){},414:function(e,t,n){},476:function(e,t){},638:function(e,t){},657:function(e,t){},660:function(e,t){},695:function(e,t,n){},697:function(e,t,n){},700:function(e,t){},702:function(e,t){},712:function(e,t){},714:function(e,t){},739:function(e,t){},745:function(e,t){},758:function(e,t){},815:function(e,t,n){"use strict";n.r(t);var c=n(108),r=n(1),a=n(70),s=n.n(a),o=n(830),i=n(371),l=n(372),u=n(43),j=n(102),b=n(98),d=n(30),h=n(178),x=(n(406),n(407),n(408),n(409),n(57)),O=n(245),p=n(92),f=n(7),g=function(e){var t=Object(c.e)().toggleColorMode,n=Object(c.f)("dark","light"),r=Object(c.f)(p.c,p.d);return Object(f.jsx)(O.b,Object(x.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(f.jsx)(r,{}),"aria-label":"Switch to ".concat(n," mode")},e))},m=n(12),v=n(22),w=n(360),y=n(2),S=n.n(y),k=n(44),C=(n(414),n(361)),D=function(){return Object(f.jsxs)(j.k,{mt:7,p:10,textAlign:"center",children:[Object(f.jsx)(j.j,{children:"We \u2764\ufe0f open source (duh)."}),Object(f.jsxs)(j.j,{children:["View or contribute to our code on"," ",Object(f.jsx)(j.h,{href:"https://github.com/kylekaplan/open-work",isExternal:!0,textDecoration:"underline",children:"Github"}),"."]})]})},B=n(184),A=n(9),z=n(151),T=n(358),F=["variant"],W=["variant"];function I(e){var t=e.variant,n=Object(z.a)(e,F),c=Object(A.i)("Border",{variant:t});return console.log("styles",c),Object(f.jsx)(T.a,Object(x.a)({sx:c},n))}function E(e){e.variant;var t=Object(z.a)(e,W);return Object(f.jsx)(T.d,Object(x.a)({borderBottom:0,borderTop:0},t))}var P=function(e){var t=e.title,n=e.icon,c=e.children;return Object(f.jsx)(I,{width:"100%",defaultIndex:[0],allowMultiple:!0,children:Object(f.jsxs)(E,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)(T.b,{children:[Object(f.jsx)(j.a,{flex:"1",fontSize:"lg",fontFamily:"'Poppins', sans-serif",children:Object(f.jsxs)(j.f,{spacing:2,children:[n,Object(f.jsx)(j.j,{children:t})]})}),Object(f.jsx)(T.c,{})]})}),Object(f.jsx)(T.e,{pb:4,sx:Object(A.i)("Background"),children:c})]})})},M=function(e){var t=e.description;return Object(f.jsx)(P,{title:"Description",icon:Object(f.jsx)(B.a,{}),children:Object(f.jsx)(j.j,{fontSize:"lg",children:t})})},L=n(295),N=n(185),R=function(e){var t=document.querySelectorAll(".thumbnails")[e],n=window.pageYOffset||document.documentElement.scrollTop,c=t.getBoundingClientRect();return{x:c.left,y:c.top+n-3,w:c.width}},q=function(e){var t=e.imgs;return Object(f.jsx)(N.Gallery,{options:{bgOpacity:.8,getThumbBoundsFn:R},children:Object(f.jsx)(j.f,{mt:2,mb:1,overflow:"scroll",children:t.map((function(e){return Object(f.jsx)(N.Item,{original:e.image,thumbnail:e.thumbnail,width:e.imgWidth,height:e.imgHeight,children:function(t){var n=t.ref,c=t.open;return Object(f.jsx)(L.a,{ref:n,onClick:c,src:e.thumbnail,className:"thumbnails",alt:""})}},e.image)}))})})},G=function(e){var t=e.imgs;return Object(f.jsx)(P,{title:"Example Images",icon:Object(f.jsx)(p.a,{}),children:Object(f.jsx)(q,{imgs:t})})},H=["variant"];var _=function(e){var t=e.variant,n=Object(z.a)(e,H),c=Object(A.i)("Border",{variant:t});return Object(f.jsx)(j.a,Object(x.a)({sx:c},n))},Y=n(100),J=function(e){var t=e.bountyId,n=Object(r.useState)(!1),c=Object(v.a)(n,2),a=c[0],s=c[1],o=Object(r.useContext)(Y.a),i=Object(v.a)(o,1)[0],l=function(){var e=Object(m.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("claiming bounty"),s(!0),e.prev=2,e.next=5,i.client.claimBounty(t);case 5:n=e.sent,console.log("result:",n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("error",e.t0);case 12:s(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(O.a,{colorScheme:"teal",mt:4,onClick:l,isLoading:a,disabled:a,children:"Claim Bounty"})})},V=n(130),Z=(n(362),window.location.host,window.location.origin,new V.ethers.providers.Web3Provider(window.ethereum)),U=(Z.getSigner(),function(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),n=(t[0],t[1],Object(r.useState)(!1)),c=Object(v.a)(n,2),a=(c[0],c[1]),s=Object(r.useState)(!1),o=Object(v.a)(s,2),i=(o[0],o[1]),l=Object(r.useState)(""),u=Object(v.a)(l,2),j=(u[0],u[1]),b=Object(r.useState)(""),d=Object(v.a)(b,2),h=(d[0],d[1]),x=Object(r.useState)(""),p=Object(v.a)(x,2),g=(p[0],p[1]),w=function(){var e=Object(m.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("connect wallet"),a(!0),i(!1),j(""),h(""),g("");try{Z.send("eth_requestAccounts",[]).catch((function(){return console.log("user rejected request")}))}catch(t){console.log("error",t),i(!0),j(t.message),h(t.code),g(t.data)}a(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(O.a,{colorScheme:"teal",mt:4,onClick:w,children:"Connect your wallet"})})}),Q=n(366),K=function(e){return e>9?""+e:"0"+e},X=function(e){var t=e.value,n=e.label;return Object(f.jsxs)(j.k,{alignItems:"start",children:[Object(f.jsx)(j.j,{fontSize:20,fontWeight:500,children:t}),Object(f.jsx)(j.j,{fontSize:15,fontWeight:400,children:n})]})},$=function(e){var t=e.date;return Object(f.jsx)(Q.a,{date:t,renderer:function(e){var t=e.days,n=e.hours,c=e.minutes,r=e.seconds;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(j.f,{spacing:{base:6,md:8,lg:10,xl:12},mt:6,children:[Object(f.jsx)(X,{value:K(t),label:"Days"}),Object(f.jsx)(X,{value:K(n),label:"Hours"}),Object(f.jsx)(X,{value:K(c),label:"Minutes"}),Object(f.jsx)(X,{value:K(r),label:"Seconds"})]})})}})},ee=function(e){var t=e.title,n=e.postedBy,r=e.startDate,a=e.endDate,s=e.prizeAmount;return console.log("in NFTViewer prizeAmo  ",s),Object(f.jsx)(c.d,{children:Object(f.jsxs)(j.a,{height:"100%",bg:"black",p:4,children:[Object(f.jsxs)(j.j,{children:[Object(f.jsx)("b",{children:"Title:"})," ",t]}),Object(f.jsxs)(j.j,{children:[Object(f.jsx)("b",{children:"Posted by:"})," ",n]}),Object(f.jsxs)(j.j,{children:[Object(f.jsx)("b",{children:"Start Date:"})," ",r.toUTCString()]}),Object(f.jsxs)(j.j,{children:[Object(f.jsx)("b",{children:"End Date:"})," ",a.toUTCString()]}),Object(f.jsxs)(j.j,{children:[Object(f.jsx)("b",{children:"Prize amount:"})," ",s]})]})})},te=function(e){var t=e.id,n=e.title,c=e.postedBy,r=e.startDate,a=e.endDate,s=e.prizeAmount,o=e.isWinnerSelected;return Object(f.jsxs)(j.c,{children:[Object(f.jsx)(j.a,{display:{base:"none",md:"block"},children:Object(f.jsx)(ee,{title:n,postedBy:c,startDate:r,endDate:a,prizeAmount:s})}),Object(f.jsxs)(j.a,{ml:{base:0,md:30},children:[Object(f.jsxs)(j.k,{align:"start",spacing:5,children:[Object(f.jsx)(j.g,{fontSize:"4xl",fontWeight:"bold",fontFamily:"'Work Sans', sans-serif;",children:n}),Object(f.jsx)(j.a,{width:"100%",display:{base:"block",md:"none"},children:Object(f.jsx)(ee,{title:n,postedBy:c,startDate:r,endDate:a,prizeAmount:s})}),Object(f.jsxs)(j.j,{fontSize:"md",fontFamily:"'Poppins', sans-serif",children:["By: ",Object(f.jsx)(j.j,{as:"span",sx:Object(A.i)("Text",{variant:"teal"}),children:c})]})]}),Object(f.jsxs)(_,{mt:8,fontFamily:"'Poppins', sans-serif",children:[Object(f.jsxs)(j.a,{p:"20px",children:[Object(f.jsxs)(j.j,{fontSize:16,children:["Challenge ends ",a.toLocaleString("default",{month:"long",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"EST"})," EST."]}),Object(f.jsx)($,{date:a.getTime()})]}),Object(f.jsx)(j.b,{}),Object(f.jsxs)(j.a,{p:30,sx:Object(A.i)("Background"),borderBottomRadius:8,children:[Object(f.jsx)(j.j,{children:"Prize:"}),Object(f.jsxs)(j.f,{fontSize:"30px",children:[Object(f.jsx)(p.b,{}),Object(f.jsx)(j.j,{children:s})]}),o?Object(f.jsx)(J,{bountyId:t}):Object(f.jsx)(U,{})]})]})]})]})},ne=n(85),ce=(n(688),n(367)),re=n(831),ae=(n(695),function(e){var t,n=e.files,c=e.imageAlt,r=e.date,a=e.postedBy;return Object(f.jsxs)(j.a,{maxW:"2xl",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:[n.length>1?Object(f.jsx)(ce.Carousel,{children:n.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsx)(L.a,{src:e.src})},null===e||void 0===e?void 0:e.src)}))}):Object(f.jsx)(L.a,{src:null===(t=n[0])||void 0===t?void 0:t.src,alt:c}),Object(f.jsxs)(j.a,{p:"6",children:[Object(f.jsx)(j.a,{display:"flex",alignItems:"baseline",children:Object(f.jsx)(j.a,{color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",children:Object(f.jsx)(re.a,{date:r,locale:"en-US"})})}),Object(f.jsxs)(j.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:["By: ",a]})]})]})}),se=function(){var e=Object(ne.a)(),t=Object(d.g)().id,n=Object(r.useState)(null),c=Object(v.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(!0),i=Object(v.a)(o,2),l=i[0],u=i[1],b=function(){var n=Object(m.a)(S.a.mark((function n(){var c,r,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"!==typeof t||!e){n.next=8;break}return c=Object(k.b)(e,"bounties",t),n.next=4,Object(k.d)(Object(k.a)(c,"submissions"));case 4:(r=n.sent)?(a=[],r.forEach((function(e){console.log(e.id," => ",e.data()),a.push(e.data())})),s(a),u(!1)):(console.log("No such querySnapshot!"),u(!1)),n.next=9;break;case 8:console.log("id is not a string");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[t,e]),Object(f.jsx)(j.a,{children:Object(f.jsxs)(P,{title:"Open Source Memes:",children:[!l&&0===a.length&&Object(f.jsx)("p",{children:"No submittions yet. Be the first!"}),!l&&a?Object(f.jsx)(j.l,{spacing:5,mt:3,mb:3,children:a.map((function(e){return Object(f.jsx)(j.m,{w:{base:"100%",md:"Calc(50% - 20px)",lg:"Calc(33% - 20px)",xl:"Calc(25% - 20px)"},children:Object(f.jsx)(ae,{files:e.files,imageAlt:e.imageAlt,date:new Date(1e3*e.date.seconds),postedBy:e.postedBy},e.id)})}))}):Object(f.jsx)(j.a,{children:Object(f.jsx)("h1",{children:"Loading..."})})]})})},oe=function(){return Object(f.jsx)(j.a,{height:30})},ie=function(e){Object(w.a)(e);var t=Object(ne.a)(),n=Object(d.g)().id,c=Object(r.useState)(null),a=Object(v.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(!0),l=Object(v.a)(i,2),u=l[0],b=l[1],h=Object(r.useState)(!1),O=Object(v.a)(h,2),p=O[0],g=O[1],y=function(){var e=Object(m.a)(S.a.mark((function e(){var c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("type of id:",typeof n),"string"!==typeof n||!t){e.next=9;break}return c=Object(k.b)(t,"bounties",n),e.next=5,Object(k.c)(c);case 5:(r=e.sent).exists()?(console.log("Document data:",r.data()),o(Object(x.a)({},r.data())),b(!1)):(console.log("No such document!"),b(!1)),e.next=10;break;case 9:console.log("id is not a string");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){y()}),[n,t]),u||!n)return null;var B=new Date(1e3*s.endDate.seconds),A=new Date(1e3*s.startDate.seconds);console.log("fireData:",s);var z=s.title,T=s.postedBy,F=s.prizeAmount,W=s.description,I=s.examplesImages,E=s.winner;return console.log("postedBy:",T),Object(f.jsxs)(j.a,{m:"0 auto",padding:{base:"30px 5px",md:"30px 40px",lg:"30px 60px",xl:"30px 80px"},maxWidth:"1600px",children:[Object(f.jsx)(te,{id:n,title:z,postedBy:T,startDate:A,endDate:B,prizeAmount:F.amount,isWinnerSelected:E}),Object(f.jsx)(oe,{}),W&&Object(f.jsx)(M,{description:W}),Object(f.jsx)(oe,{}),I&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(G,{imgs:I}),Object(f.jsx)(j.a,{height:{base:10,md:30,lg:75}})]}),Object(f.jsx)(C.a,{bountyId:n,refreshData:y,setLoading:g}),Object(f.jsx)(oe,{}),!p&&Object(f.jsx)(se,{}),Object(f.jsx)(D,{})]})},le=n(54),ue=n(368),je=n.n(ue),be=(n(697),n.p+"static/media/much_wow.8624a0da.jpeg"),de=function(){return Object(r.useEffect)((function(){var e=document.getElementById("scene");new je.a(e,{relativeInput:!0})}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{id:"scene","data-relative-input":"true",position:"absolute",top:"0",bottom:"0",right:"0",left:"0",children:Object(f.jsx)(j.a,{minH:"90vh","data-depth":"0.2",className:"background5"})}),Object(f.jsxs)(j.a,{children:[Object(f.jsxs)(j.k,{spacing:3,minH:"66vh",textAlign:"center",justifyContent:"center",children:[Object(f.jsx)(j.g,{fontSize:"6xl",fontWeight:"extrabold",className:"headerText",children:"Earn Crypto by Making Memes"}),Object(f.jsx)(j.j,{color:"gray.350",fontSize:"3xl",children:"The best meme wins. All memes are open source."}),Object(f.jsx)(j.i,{direction:"row",spacing:4,style:{marginTop:"30px"},children:Object(f.jsx)(b.b,{to:"/challenge/OVyNZQZY8WqDKF7bdP6Z",children:Object(f.jsx)(O.a,{rightIcon:Object(f.jsx)(le.a,{as:B.b}),colorScheme:"teal",variant:"solid",size:"lg",height:"56px",className:"ctaButton",children:"Get Started"})})}),Object(f.jsx)(L.a,{src:be,className:"dogeImg",alt:"Doge meme",width:{base:290,sm:290,md:290,lg:333,xl:333}})]}),Object(f.jsx)(j.k,{minH:{base:"35vh",sm:"35vh",md:"23vh",lg:"23vh",xl:"23vh"}})]})]})},he=function(){return Object(f.jsx)(j.a,{children:"Page not found."})},xe=n(47),Oe=n(357),pe=n(99),fe=n(354),ge=n(355),me=n(356),ve=n(369),we=n.n(ve),ye=n(242),Se=n.n(ye),ke=n(152),Ce=n.n(ke),De=n(370),Be=function(){var e=Object(ne.a)(),t=Object(Oe.a)(),n=Object(d.f)(),a=Object(c.e)().colorMode,s=Object(r.useContext)(Y.a),o=Object(v.a)(s,1)[0],i=Object(r.useState)(new Date),l=Object(v.a)(i,2),u=l[0],b=l[1],h=Object(r.useState)(null),x=Object(v.a)(h,2),g=x[0],w=x[1],y=Object(r.useState)(""),C=Object(v.a)(y,2),D=C[0],B=C[1],A=Object(r.useState)(""),z=Object(v.a)(A,2),T=z[0],F=z[1],W=Object(r.useState)(""),I=Object(v.a)(W,2),E=I[0],P=I[1],M=Object(r.useState)(!1),L=Object(v.a)(M,2),N=L[0],R=L[1],q=Object(r.useState)([]),G=Object(v.a)(q,2),H=G[0],_=G[1],J=Object(r.useState)(!1),Z=Object(v.a)(J,2),U=Z[0],Q=Z[1],K=Object(r.useState)(!1),X=Object(v.a)(K,2),$=X[0],ee=X[1],te=Object(r.useState)(!1),ce=Object(v.a)(te,2),re=ce[0],ae=ce[1],se=Object(r.useState)(!1),oe=Object(v.a)(se,2),ie=oe[0],le=oe[1];var ue=Object(r.useState)(o.tokens[0]),je=Object(v.a)(ue,2),be=je[0],de=(je[1],Object(r.useState)(null)),he=Object(v.a)(de,2),ve=(he[0],he[1]);function ye(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(m.a)(S.a.mark((function e(t){var n,c,r,a,s,i,l,u,j;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("in fundBounty"),console.log("bountyAddress:",t),console.log("parseFloat(prizeAmount):",parseFloat(E)),console.log("token:",be),0!=(n=+E*Math.pow(10,be.decimals))){e.next=7;break}return e.abrupt("return");case 7:return c=V.ethers.BigNumber.from(n.toString()),console.log("bigNumberVolumeInWei:",c),r=!1,e.prev=10,e.next=13,o.client.balanceOf("library","account",be.address);case 13:if(a=e.sent,console.log("callerBalance:",a),!(a<c)){e.next=20;break}return console.log("Funds Too Low"),"Funds Too Low","You do not have sufficient funds for this deposit",e.abrupt("return");case 20:e.next=29;break;case 22:return e.prev=22,e.t0=e.catch(10),console.log("hey error:"),console.log(e.t0),"Error","A contract call exception occurred",e.abrupt("return");case 29:if(e.prev=29,be.address==V.ethers.constants.AddressZero){e.next=33;break}return e.next=33,o.client.approve("library",t,be.address,c);case 33:r=!0,e.next=42;break;case 36:e.prev=36,e.t1=e.catch(29),console.log("yo error:"),s=o.client.handleError(e.t1,{bountyAddress:t}),i=s.message,l=s.title,console.log("message:",i),console.log("title:",l);case 42:if(console.log("approveSucceeded:",r),!r){e.next=58;break}return e.prev=44,e.next=47,o.client.fundBounty("library",t,be.address,c);case 47:return u=e.sent,console.log("fundTxnReceipt:",u),ve(u.transactionHash),console.log("Successfully funded issue ".concat(t," with ").concat(E," ").concat(be.symbol,"!")),e.abrupt("return",u);case 54:e.prev=54,e.t2=e.catch(44),console.log("hi error:",e.t2),j=o.client.handleError(e.t2,{bountyAddress:t}),j.message,j.title;case 58:case"end":return e.stop()}}),e,null,[[10,22],[29,36],[44,54]])})))).apply(this,arguments)}function Be(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(m.a)(S.a.mark((function e(t){var n,c,r,a,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("minting bounty"),e.prev=1,e.next=4,o.client.mintBounty("library",t,"randomOrgName");case 4:return n=e.sent,c=n.bountyAddress,console.log("bountyAddress:",c),console.log("done"),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.log("error in mintboutny",e.t0),r=o.client.handleError(e.t0),a=r.message,s=r.title,console.log("message",a),console.log("title",s);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var ze=function(){var c=Object(m.a)(S.a.mark((function c(r){var a,s,o;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),R(!0),a=we.a.v4(),Q(!1),ee(!1),ae(!1),le(!1),console.log("endDate",g),""!==D&&u&&g&&E&&"0"!==E||R(!1),""!==D){c.next=12;break}return Q(!0),c.abrupt("return");case 12:if(u){c.next=15;break}return ee(!0),c.abrupt("return");case 15:if(g){c.next=18;break}return ae(!0),c.abrupt("return");case 18:if(E&&"0"!==E){c.next=21;break}return le(!0),c.abrupt("return");case 21:return u&&g&&u>g&&ee(!0),console.log("files",H),c.next=25,Be(a);case 25:return s=c.sent,c.next=28,ye(s);case 28:if(o=c.sent,console.log("uploading to firebase"),c.prev=30,!e){c.next=36;break}return c.next=34,Object(k.f)(Object(k.b)(e,"bounties",a),{id:a,title:D,description:T,prizeAmount:{amount:parseInt(E),contract:be.address},startDate:u,endDate:g,exampleImages:H,postedBy:o.from});case 34:c.next=37;break;case 36:console.log("error no db");case 37:c.next=42;break;case 39:c.prev=39,c.t0=c.catch(30),console.log("error uploading to firebase",c.t0);case 42:console.log("finished submtting"),R(!1),n("/challenge/".concat(a)),t({title:"Challenge Created.",description:"You challenge has been created successfully!",status:"success",duration:9e3,isClosable:!0});case 46:case"end":return c.stop()}}),c,null,[[30,39]])})));return function(e){return c.apply(this,arguments)}}();return Object(f.jsxs)(j.a,{m:"0 auto",padding:{base:"30px 5px",md:"30px 40px",lg:"30px 60px",xl:"30px 80px"},maxWidth:"1600px",children:[Object(f.jsx)(j.g,{as:"h1",size:"xl",children:"Create a Challenge"}),Object(f.jsxs)(j.k,{spacing:8,children:[Object(f.jsxs)(pe.a,{mt:45,isRequired:!0,isInvalid:U,children:[Object(f.jsx)(pe.d,{children:"Title:"}),Object(f.jsx)(fe.a,{id:"title",placeholder:"Good titles are short and sweet",value:D,onChange:function(e){return B(e.target.value)}}),U&&Object(f.jsx)(pe.b,{children:"Title is required."})]}),Object(f.jsxs)(pe.a,{children:[Object(f.jsx)(pe.d,{children:"Description:"}),Object(f.jsx)(ge.a,{id:"description",placeholder:"Describe the details of your challenge",value:T,onChange:function(e){return F(e.target.value)}})]}),Object(f.jsxs)(pe.a,{children:[Object(f.jsx)(pe.d,{children:"Good Example images:"}),Object(f.jsx)(De.a,{handleChangeStatus:function(e,t){if("done"===t)_((function(t){return[].concat(Object(xe.a)(t),[e])}));else if("removed"===t){var n=H.filter((function(t){return t.meta.id!==e.meta.id}));_(Object(xe.a)(n))}}})]}),Object(f.jsxs)(j.d,{gap:10,templateColumns:"repeat(2, 1fr)",alignSelf:"flex-start",children:[Object(f.jsx)(j.e,{colSpan:{base:2,md:1},children:Object(f.jsxs)(pe.a,{isRequired:!0,isInvalid:$,children:[Object(f.jsx)(pe.d,{children:"Start Date:"}),Object(f.jsx)(Se.a,{showTimeSelect:!0,selected:u,onChange:function(e){return b(e)},dateFormat:"MMMM d, yyyy h:mm aa z",className:"dark"===a?Ce.a.darkTheme:Ce.a.lightTheme,minDate:new Date,maxDate:new Date((new Date).setDate((new Date).getDate()+365))}),$&&Object(f.jsx)(pe.b,{children:"Start date is required and must be before end date."})]})}),Object(f.jsx)(j.e,{colSpan:{base:2,md:1},children:Object(f.jsxs)(pe.a,{isRequired:!0,isInvalid:re,children:[Object(f.jsx)(pe.d,{children:"End Date:"}),Object(f.jsx)(Se.a,{showTimeSelect:!0,selected:g,onChange:function(e){return w(e)},dateFormat:"MMMM d, yyyy h:mm aa z",className:"dark"===a?Ce.a.darkTheme:Ce.a.lightTheme,minDate:u,maxDate:new Date((new Date).setDate((new Date).getDate()+14))}),re&&Object(f.jsx)(pe.b,{children:"End date is required."})]})})]}),Object(f.jsxs)(pe.a,{isRequired:!0,isInvalid:ie,children:[Object(f.jsx)(pe.d,{children:"Prize Amount:"}),Object(f.jsx)(me.a,{id:"amount",maxW:280,min:0,value:E,onChange:function(e){return P(e)},children:Object(f.jsxs)(j.f,{children:[Object(f.jsx)(p.b,{}),Object(f.jsx)(me.b,{})]})}),ie?Object(f.jsx)(pe.b,{children:"Prize amount is required."}):Object(f.jsx)(pe.c,{ml:7,children:"Amount is denominated in ETH."})]}),Object(f.jsx)(O.a,{size:"lg",mt:3,colorScheme:"teal",isLoading:N,disabled:N,type:"submit",onClick:ze,children:"Create Challenge"})]})]})},Ae=function(){var e=Object(ne.a)(),t=Object(d.g)().id,n=Object(r.useContext)(Y.a),c=Object(v.a)(n,1)[0],a=Object(r.useState)(null),s=Object(v.a)(a,2),o=s[0],i=s[1],l=Object(r.useState)(!0),u=Object(v.a)(l,2),b=u[0],h=u[1],x=Object(r.useState)(""),p=Object(v.a)(x,2),g=p[0],w=p[1],y=Object(r.useState)(!1),C=Object(v.a)(y,2),D=C[0],B=C[1],A=Object(r.useState)(!1),z=Object(v.a)(A,2),T=(z[0],z[1]),F=function(){var n=Object(m.a)(S.a.mark((function n(){var c,r,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"!==typeof t||!e){n.next=8;break}return c=Object(k.b)(e,"bounties",t),n.next=4,Object(k.d)(Object(k.a)(c,"submissions"));case 4:(r=n.sent)?(a=[],r.forEach((function(e){console.log(e.id," => ",e.data()),a.push(e.data())})),i(a),T(a.filter((function(e){return e.winner})).length>0),h(!1)):(console.log("No such querySnapshot!"),h(!1)),n.next=9;break;case 8:console.log("id is not a string");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();if(Object(r.useEffect)((function(){F()}),[t,e]),b||!o)return null;var W=function(){var n=Object(m.a)(S.a.mark((function n(){var r,a,s,o,i;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("handleSubmit"),B(!0),!e||!t){n.next=14;break}return n.next=5,c.client.selectWinner(g,t);case 5:r=n.sent,a=r.txnResponse,s=r.txnReceipt,console.log("txnResponse:",a),console.log("txnReceipt:",s),o=Object(k.b)(e,"bounties",t,"submissions",g),Object(k.g)(o,{winner:!0}),i=Object(k.b)(e,"bounties",t),Object(k.g)(i,{winner:o,winnerSelected:new Date});case 14:B(!1);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(f.jsxs)(j.a,{m:"0 auto",padding:{base:"30px 5px",md:"30px 40px",lg:"30px 60px",xl:"30px 80px"},maxWidth:"1600px",children:[Object(f.jsx)(j.g,{children:"Select Winner:"}),Object(f.jsx)(j.a,{height:30}),Object(f.jsx)(j.l,{spacing:5,mt:3,mb:3,children:o.map((function(e){return Object(f.jsx)(j.m,{onClick:function(){return function(e){w(g===e?"":e)}(e.id?e.id:"")},w:{base:"100%",md:"Calc(50% - 20px)",lg:"Calc(33% - 20px)",xl:"Calc(25% - 20px)"},borderColor:g===e.id||e.winner?"teal.500":"transparent",borderWidth:g===e.id||e.winner?"3px":"0px",borderRadius:8,children:Object(f.jsx)(ae,{files:e.files,imageAlt:e.imageAlt,date:new Date(1e3*e.date.seconds),postedBy:e.postedBy},e.id)})}))}),Object(f.jsx)(j.a,{height:10}),""!==g&&!o.winner&&Object(f.jsx)(O.a,{size:"lg",colorScheme:"teal",onClick:function(){W()},isLoading:D,disabled:D,children:"Submit"})]})},ze={Border:{variants:{thin:function(e){return{border:"1px solid",borderColor:"light"===e.colorMode?"gray.200":"whiteAlpha.300",borderRadius:"8px"}},thick:function(e){return{border:"4px solid",borderColor:"light"===e.colorMode?"gray.200":"whiteAlpha.300",borderRadius:"8px"}}},defaultProps:{variant:"thin"}},Text:{variants:{blackAndWhite:function(e){return{color:"light"===e.colorMode?"gray.800":"whiteAlpha.800"}},teal:function(e){return{color:"light"===e.colorMode?"teal.500":"teal.200"}}},defaultProps:{variant:"blackAndWhite"}},Background:{variants:{shade:function(e){return{backgroundColor:"light"===e.colorMode?"gray.100":"whiteAlpha.100"}}},defaultProps:{variant:"shade"}}},Te=Object(u.b)({config:{initialColorMode:"dark",useSystemColorMode:!1},colors:{},components:ze}),Fe=(Object(h.a)({apiKey:"AIzaSyCm9SJH5s2GZIVQkfAC8h5qlN3XI23uoc0",authDomain:"meme-to-earn.firebaseapp.com",projectId:"meme-to-earn",storageBucket:"meme-to-earn.appspot.com",messagingSenderId:"556994659234",appId:"1:556994659234:web:bfa1dc8121e9c226e268fb"}),function(){return Object(f.jsx)(u.a,{theme:Te,children:Object(f.jsx)(b.a,{basename:"/open-work",children:Object(f.jsxs)(j.a,{p:3,children:[Object(f.jsx)(j.c,{justify:"end",children:Object(f.jsx)(g,{})}),Object(f.jsxs)(d.c,{children:[Object(f.jsx)(d.a,{path:"/",element:Object(f.jsx)(de,{})}),Object(f.jsx)(d.a,{path:"/challenge/:id",element:Object(f.jsx)(ie,{})}),Object(f.jsx)(d.a,{path:"/challenge/:id/select-winner",element:Object(f.jsx)(Ae,{})}),Object(f.jsx)(d.a,{path:"/create",element:Object(f.jsx)(Be,{})}),Object(f.jsx)(d.a,{path:"*",element:Object(f.jsx)(he,{})})]})]})})})}),We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,832)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.addDefaultLocale(i),o.a.addLocale(l),s.a.render(Object(f.jsxs)(r.StrictMode,{children:[Object(f.jsx)(c.c,{}),Object(f.jsx)(Fe,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),We()},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(22),r=n(1),a=(n(178),n(44)),s=null;function o(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){o(s||(s=Object(a.e)()))}),[]),n}}},[[815,1,2]]]);
//# sourceMappingURL=main.25978b87.chunk.js.map